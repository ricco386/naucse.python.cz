<!doctype html>
<html lang="cs">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>
            
                MI-PYT (Pokročilý Python): Requests – Weboví klienti
            
        </title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

        

        <link rel="stylesheet" href="/static/css/nausce.css">
        <link rel="stylesheet" href="/static/css/body.css">
        <link rel="stylesheet" href="/static/css/pygments-lovelace-style.css">
        <link rel="stylesheet" href="/static/css/ipython.css">
        
        
    <link rel="canonical" href="http://naucse.python.cz/lessons/intro/requests/" />


        <style>
            
    

        </style>
    </head>
    
    <body>
        <nav class="header">
            <ul class="container menu">
                <li><a href="/" class="logo"><h1>Nauč se Python!</h1></a></li>
                <li><a href="/courses/" class="menu-link"><h2>Materiály</h2></a></li>
                <li><a href="/runs/" class="menu-link"><h2>Kurzy</h2></a></li>
            </ul>
        </nav>

        

        

<div class="page">
    <div class="container">

        
            <header class="lesson-header">
                <a href="/">Nauč se Python </a>
                > <a href="/courses/">Kurzy</a>
                > <a href="/2017/mipyt-zima/">MI-PYT (Pokročilý Python)</a>
                > <a href="/2017/mipyt-zima/sessions/requests-click/">Weboví klienti &amp; CLI – Requests a Click</a>
                > Requests – Weboví klienti
                <hr>
            </header>
        

        
            <h1>requests</h1>
<p>Knihovna requests je určená pro HTTP požadavky (klienty).
Přestože vytvářet HTTP požadavky jde i bez requests, pomocí standardní knihovny
Pythonu, requests mají mnohem lidštější rozhraní a používají se mnohem
jednodušeji.</p>
<p>Instaluje se standardním způsobem:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> python -m pip install requests
</pre></div><p>Budeme předpokládat, že znáš alespoň základy HTTP protokolu, a
vrhneme se rovnou na příklad.</p>
<div class="admonition note"><p>Pokud základy neznáš, můžeš se podívat na
<a href="/2017/mipyt-zima/projects/github-api/">začátečnickou lekci</a>,
která vysvětluje o trošičku víc.</p>
</div><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">getpass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">username</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Username: &#39;</span><span class="p">)</span>
<span class="go">Username: hroncok</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">()</span>
<span class="go">Password: </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/user&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;content-type&#39;</span><span class="p">]</span>
<span class="go">&#39;application/json; charset=utf8&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;utf-8&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">&#39;{&quot;login&quot;:&quot;hroncok&quot;...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">{&#39;avatar_url&#39;: &#39;https://avatars.githubusercontent.com/u/2401856?v=3&#39;, ...}</span>
</pre></div><p>Příklady použití pro další HTTP metody najdeš v <a href="http://docs.python-requests.org/en/master/user/quickstart/">dokumentaci</a>.</p>
<h2>Použití session</h2>
<p>Hlavně v budoucnu se nám bude hodit použití tzv. <em>session</em>.</p>
<p>Session má několik výhod.
První je, že využívá na pozadí jedno otevřené HTTP spojení a poskytuje tak
při více sousledných požadavcích výrazné zrychlení.</p>
<p>Dále pak session automaticky ukládá <em>cookies</em> a je možné u ní nastavit výchozí
hlavičky.</p>
<p>Zkus si <em>cookies</em> vyzkoušet s <a href="http://httpbin.org">httpbin.org</a> – službou
k testování HTTP dotazů:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/cookies/set/mipyt/best&#39;</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/cookies&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">{&#39;cookies&#39;: {&#39;mipyt&#39;: &#39;best&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;x-test&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://httpbin.org/headers&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x-test2&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">{&#39;headers&#39;: {&#39;Accept&#39;: &#39;*/*&#39;, &#39;User-Agent&#39;: &#39;python-requests/2.10.0&#39;, &#39;X-Test2&#39;: &#39;true&#39;, &#39;Host&#39;: &#39;httpbin.org&#39;, &#39;Accept-Encoding&#39;: &#39;gzip, deflate&#39;, &#39;X-Test&#39;: &#39;true&#39;, &#39;Cookie&#39;: &#39;mipyt=best&#39;}}</span>
</pre></div><h2>Twitter API</h2>
<p>Pro reálné použití si ukážeme, jak se dá pomocí requests získat seznam tweetů.
Z Twitteru nebudeme samozřejmě nic parsovat, ale použijeme jejich <a href="https://dev.twitter.com/rest/public">API</a>.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.twitter.com/1.1/search/tweets.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">{&#39;errors&#39;: [{&#39;code&#39;: 215, &#39;message&#39;: &#39;Bad Authentication data.&#39;}]}</span>
</pre></div><p>Jak můžeš vidět v odpovědi, Twitter API neumožňuje data číst bez autentizace.
Jak se autentizovat bys při troše hledání našel v dokumentaci, ale protože
tu nevyučujeme úvod do OAuthu, ale Python, rozhodli jsme se ti to zjednodušit.</p>
<p>Po přihlášení na Twitter (pokud nemáš, můžeš si vytvořit nějaký <em>dummy</em> účet)
jdi na <a href="https://apps.twitter.com/">apps.twitter.com</a> a vytvoř aplikaci (URL si můžeš vymyslet).
Po vytvoření najdeš na kartě <em>Keys and Access Tokens</em> <strong>API Key</strong> a <strong>API Secret</strong>.
Pozor, jedná prakticky o hesla k tvému Twitter účtu,
a proto by je nikdo kromě tebe neměl vidět.</p>
<div class="admonition warning"><p class="admonition-title">Ochrana přihlašovacích tokenů</p>
<p>Ještě jednou – <em>API Key</em> a <em>API Secret</em> se chovají jako hesla.
Nikomu je nesmíš ukazovat!
Stane-li se přesto, že se k nim dostane někdo nepovolaný, na kartě
<em>Keys and Access Tokens</em> je můžeš zrušit.</p>
</div><p>Prozatím klíče nastav do proměnných, později je schováme například do
konfiguračního souboru.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">api_key</span> <span class="o">=</span> <span class="s1">&#39;D4HJp6PKmpon9eya1b2c3d4e5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">api_secret</span> <span class="o">=</span> <span class="s1">&#39;rhvasRMhvbuHJpu4MIuAb4WO50gnoQa1b2c3d4e5f6g7h8i9j0&#39;</span>
</pre></div><p>Tyto kódy je potřeba určitým způsobem slepit a poslat Twitteru,
aby vytvořil token, které pak půjde použít pro API.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">base64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secret</span> <span class="o">=</span> <span class="s1">&#39;{}:{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secret64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="s1">&#39;Basic {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">secret64</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s1">&#39;Host&#39;</span><span class="p">:</span> <span class="s1">&#39;api.twitter.com&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://api.twitter.com/oauth2/token&#39;</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;grant_type&#39;</span><span class="p">:</span> <span class="s1">&#39;client_credentials&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="go">{&#39;token_type&#39;: &#39;bearer&#39;, &#39;access_token&#39;: &#39;AAAAAAAAAAAAAAAAAAAAAHhKXAAAAAAAaA1abB2bcC3cdD4deE5efF6fgG7ghH8hiI9ijJ0ja1b2c3d4e5f6g7h8i9j0a1b2c3d4e5f6g7h8i9j0&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bearer_token</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;access_token&#39;</span><span class="p">]</span>
</pre></div><p>Pro komunikaci s Twitter API musíš přidat hlavičku se získaným tokenem,
tady využij faktu, že používáš <em>session</em> a nastav <em>autentizační funkci</em>:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">bearer_auth</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">req</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Authorization&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Bearer &#39;</span> <span class="o">+</span> <span class="n">bearer_token</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">req</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">auth</span> <span class="o">=</span> <span class="n">bearer_auth</span>
</pre></div><p>Pak už by mělo API fungovat:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;https://api.twitter.com/1.1/search/tweets.json&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s1">&#39;#python&#39;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;statuses&#39;</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">tweet</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
<span class="gp">... </span>
<span class="go">Once a framework decides to abstract the HTML layer from you. Customizing your UI becomes sorcery. #django #Python</span>
<span class="gp">...</span>
</pre></div><p>Zde máš pro zjednodušení k dispozici celou funkci pro vytvoření autentizované
<em>session</em>:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">base64</span>

<span class="k">def</span> <span class="nf">twitter_session</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="p">):</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="s1">&#39;{}:{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="p">)</span>
    <span class="n">secret64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="s1">&#39;Basic {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">secret64</span><span class="p">),</span>
        <span class="s1">&#39;Host&#39;</span><span class="p">:</span> <span class="s1">&#39;api.twitter.com&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://api.twitter.com/oauth2/token&#39;</span><span class="p">,</span>
                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;grant_type&#39;</span><span class="p">:</span> <span class="s1">&#39;client_credentials&#39;</span><span class="p">})</span>

    <span class="n">bearer_token</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;access_token&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">bearer_auth</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
        <span class="n">req</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Authorization&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Bearer &#39;</span> <span class="o">+</span> <span class="n">bearer_token</span>
        <span class="k">return</span> <span class="n">req</span>

    <span class="n">session</span><span class="o">.</span><span class="n">auth</span> <span class="o">=</span> <span class="n">bearer_auth</span>
    <span class="k">return</span> <span class="n">session</span>
</pre></div><h3>GitHub API</h3>
<p>Podíváme se i na GitHub API, které má jednodušší autentizaci (od GitHubu přímo
získáš token). Stačí jít do <a href="https://github.com/settings/tokens">nastavení</a> a vyrobit nový token
(zatím není třeba zaškrtávat žádná oprávnění).
Token musíš opět patřičně chránit.</p>
<p>Pomocí tokenu pak můžeš z Githubu získávat informace.
Tímto kódem například pak získáš popis přihlášeného uživatele, tedy sebe.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span> <span class="o">=</span> <span class="s1">&#39;xxxxxxx&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="s1">&#39;token &#39;</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Python&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/user&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div><p>Pokud budeš chtít něco provést, například dát hvězdičku repozitáři s těmito
materiály, musíš tokenu nastavit patřičné oprávnění
(u hvězdičky je to <code>public_repo</code>).
To se dělá přes <a href="https://github.com/settings/tokens">nastavení</a> na GitHubu.</p>
<p>Hvězdičku pak přidáš takto:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/user/starred/pyvec/naucse.python.cz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">text</span>
<span class="go">&#39;&#39;</span>
</pre></div><p>Jak vidíš, API nevrací žádný text. Můžeš ale zkontrolovat návratový stav:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="go">204</span>
</pre></div><p>Případně vyhodit výjimku, pokud je stavový kód divný (např 404 Nenalezeno,
401 Chybí oprávnění apod.):</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</pre></div><p>Pokud hvězdičku chceš odebrat, použij metodu DELETE.
My ale věříme, že ji odebrat nechceš :)</p>
<p><a href="https://developer.github.com/v3/">Dokumentace</a> ke GitHub API.</p>
<h3>Chraň své tokeny</h3>
<p>Když ukládáš skript do Gitu, měj na paměti, že tokeny a klíče do něj nikdy
nepatří. Můžeš je uložit do konfiguračního souboru, který bude gitem ignorován,
například takhle:</p>
<div class="highlight"><pre><span></span><span class="k">[twitter]</span>
<span class="na">key</span> <span class="o">=</span> <span class="s">D4HJp6PKmpon9eya1b2c3d4e5</span>
<span class="na">secret</span> <span class="o">=</span> <span class="s">rhvasRMhvbuHJpu4MIuAb4WO50gnoQa1b2c3d4e5f6g7h8i9j0</span>

<span class="k">[github]</span>
<span class="na">token</span> <span class="o">=</span> <span class="s">xxxxxxx</span>
</pre></div><p>A následně konfiguraci načteš pomocí modulu
<a href="https://docs.python.org/3/library/configparser.html">configparser</a>:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">configparser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;auth.cfg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;twitter&#39;</span><span class="p">][</span><span class="s1">&#39;key&#39;</span><span class="p">]</span>
<span class="go">D4HJp6PKmpon9eya1b2c3d4e5</span>
</pre></div><p>Do souboru <code>.gitignore</code> pak musíš přidat název ignorovaného souboru, např.:</p>
<div class="highlight"><pre><code>auth.cfg

</code></pre></div><p>Jelikož ostatní tvůj konfigurační soubor neuvidí,
je vhodné jim vysvětlit, jak takový soubor (s jejich údaji) vytvořit.
Můžeš například vložit do gitu soubor <code>auth.cfg.sample</code>
s vymyšlenými údaji, či příklad uvést v README.</p>

        

        
        <hr class="lesson-end">
        
        
            <div class="alert alert-info">
                Toto je stránka lekce z kurzu, který probíhá nebo proběhl naživo s instruktorem.
                
            </div>
        

        <div class="row prev-next">
            <div class="col text-left">
            
                <a href="/2017/mipyt-zima/fast-track/install/">← <span class="hidden-xs-down">Vytvoření virtuáního prostředí</span></a>
            
            </div>

            <div class="col text-center">
            
                <a href="/2017/mipyt-zima/sessions/requests-click/">↑ <span class="hidden-xs-down">Lekce: Weboví klienti &amp; CLI – Requests a Click</span></a>
            
            </div>

            <div class="col text-right">
            
                <a href="/2017/mipyt-zima/intro/click/"><span class="hidden-xs-down">Click – Rozhraní pro příkazovou řádku</span> →</a>
            
            </div>
        </div>
        

    </div>
</div>



        <script type="text/javascript" src="/static/js/solutions.js"></script>

        <div class="footer container">
            <hr>
            <div class="lesson-attribution">
                <p>Uprav tuto stránku na <a href="https://github.com/pyvec/naucse.python.cz/blob/master/lessons/intro/requests/index.md">GitHubu</a>.</p>

                
                    
                        <p>Pro kurz MI-PYT na ČVUT napsali Miro Hrončok, Petr Viktorin a další, 2016-2017.</p>

                    
                    
                        <p>
                            Licence:
                            <a href="https://creativecommons.org/licenses/by-sa/4.0/">
                                Creative Commons Attribution-ShareAlike 4.0 International
                            </a>
                        </p>
                    
                
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

        

    </body>
</html>